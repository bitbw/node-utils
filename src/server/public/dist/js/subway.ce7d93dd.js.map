{"version":3,"sources":["webpack:///../../../src/components/VGrid/VSpacer.ts","webpack:///./src/views/subway/subway.vue?4b37","webpack:///./node_modules/core-js/modules/es.string.sub.js","webpack:///./src/views/subway/subway.vue?ecd3","webpack:///./src/views/subway/ladder.ts","webpack:///./src/views/subway/subway.vue","webpack:///./src/views/subway/subway.vue?b17c","webpack:///./src/views/subway/subway.vue?1cb6"],"names":["$","createHTML","forcedStringHTMLMethod","target","proto","forced","sub","this","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$t","model","value","callback","$$v","moneySpentEachTime","_n","expression","totalFrequency","on","handleCalc","resultMoney","_l","ladder","index","key","$set","$event","handleRemoveladder","handleAddladder","staticRenderFns","option","frequency","money","upperLimit","lowerLimit","discont","Object","prototype","hasOwnProperty","call","starMoney","starFrequency","Math","ceil","currentTotalMoney","currentTotalFrequency","defaultLadders","id","name","editLadder","ladders","firstLadder","starDate","reduce","total","calc","Number","length","isNaN","push","splice","window","component","VBtn","VCard","VCardText","VCol","VContainer","VIcon","VRow","VSpacer","VTextField","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/subway.ce7d93dd.js","sourcesContent":["import './_grid.sass'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nexport default createSimpleFunctional('spacer', 'div', 'v-spacer')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subway.vue?vue&type=style&index=0&id=24b7193c&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',{staticClass:\"calculate-container\",attrs:{\"flat\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"elevation\":\"0\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"size\":\"30\"}},[_vm._v(\"mdi-alarm-panel-outline\")]),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"calculate\")))]),_c('v-spacer')],1),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('subway.moneySpentEachTime'),\"type\":\"number\",\"suffix\":\"￥\"},model:{value:(_vm.moneySpentEachTime),callback:function ($$v) {_vm.moneySpentEachTime=_vm._n($$v)},expression:\"moneySpentEachTime\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('subway.totalFrequency'),\"type\":\"number\",\"suffix\":\"Frequency\"},model:{value:(_vm.totalFrequency),callback:function ($$v) {_vm.totalFrequency=_vm._n($$v)},expression:\"totalFrequency\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\",\"dark\":\"\"},on:{\"click\":_vm.handleCalc}},[_vm._v(\" \"+_vm._s(_vm.$t(\"calculate\"))+\" \")])],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"1\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"result\")))])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('v-text-field',{attrs:{\"disabled\":\"\",\"value\":_vm.resultMoney,\"suffix\":\"￥\"}})],1)],1)],1)],1),_c('v-card',{staticClass:\"ladder-container\",attrs:{\"flat\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"elevation\":\"0\"}},[_c('v-icon',{attrs:{\"left\":\"\",\"size\":\"30\"}},[_vm._v(\"mdi-animation\")]),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"subway.ladder\")))]),_c('v-spacer')],1),_c('v-card-text',[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"pa-0\",attrs:{\"cols\":\"12\"}},_vm._l((_vm.ladders),function(ladder,index){return _c('v-row',{key:((ladder.name) + \"-\" + (ladder.id)),staticClass:\"ma-0\",attrs:{\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('name')},model:{value:(ladder.name),callback:function ($$v) {_vm.$set(ladder, \"name\", $$v)},expression:\"ladder.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('subway.lowerLimit'),\"suffix\":\"￥\"},model:{value:(ladder.lowerLimit),callback:function ($$v) {_vm.$set(ladder, \"lowerLimit\", $$v)},expression:\"ladder.lowerLimit\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('subway.upperLimit'),\"suffix\":\"￥\"},model:{value:(ladder.upperLimit),callback:function ($$v) {_vm.$set(ladder, \"upperLimit\", $$v)},expression:\"ladder.upperLimit\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('subway.discont'),\"suffix\":\"%\"},model:{value:(ladder.discont),callback:function ($$v) {_vm.$set(ladder, \"discont\", $$v)},expression:\"ladder.discont\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleRemoveladder(index)}}},[_c('v-icon',[_vm._v(\"mdi-trash-can\")])],1)],1)],1)}),1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"tile\":\"\"},on:{\"click\":function($event){return _vm.handleAddladder()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"add\")))])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ILadder from \"./ladder.d\";\r\nexport class Ladder {\r\n  frequency = 0; // 当前阶段次数\r\n  money = 0; // 当前阶段钱数\r\n  upperLimit: number | string = 0; // 当前阶上限   数字或者 *， * 表示往上所有数字\r\n  lowerLimit: number | string = 0; // 当前阶下限\r\n  discont = 0; // 当前阶折扣  百分比\r\n\r\n  constructor(option?: ILadder) {\r\n    for (const key in option) {\r\n      if (Object.prototype.hasOwnProperty.call(option, key)) {\r\n        (this as any)[key] = option[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description:\r\n   * @param { number } starMoney  当前阶段前面所有money的汇总\r\n   * @param { number } starFrequency  当前阶段前面所有次数的汇总\r\n   * @param { number } moneySpentEachTime  每次money\r\n   * @param { number } totalFrequency  总次数\r\n   * @return { object }  返回加上本阶段的汇总数据\r\n   */\r\n  calc(option: any) {\r\n    const {\r\n      starMoney,\r\n      starFrequency,\r\n      moneySpentEachTime,\r\n      totalFrequency\r\n    } = option;\r\n    // 上限正常是数字的情况\r\n    if (typeof this.upperLimit === \"number\") {\r\n      // 当前阶段的次数 = 上限 - 当前阶段前面所有money的汇总 as 当前阶段的价格区间，/ 每次money * 折扣 as 当前区间每次money\r\n      this.frequency = Math.ceil(\r\n        (this.upperLimit - starMoney) /\r\n          (moneySpentEachTime * (this.discont / 100))\r\n      );\r\n      // 上限是 * 的情况\r\n    } else {\r\n      // 最后阶段的次数 = 总次数 - 当前阶段前面所有次数的汇总\r\n      this.frequency = totalFrequency - starFrequency;\r\n    }\r\n    this.money = this.frequency * moneySpentEachTime * (this.discont / 100);\r\n    // 返回加上本阶段的汇总数据\r\n    return {\r\n      currentTotalMoney: this.money + starMoney,\r\n      currentTotalFrequency: this.frequency + starFrequency\r\n    };\r\n  }\r\n}\r\n\r\nexport default Ladder;\r\n\r\n// 默认阶梯值\r\nexport const defaultLadders = () => [\r\n  new Ladder({\r\n    id: 1,\r\n    name: \"lodder1\",\r\n    lowerLimit: 0,\r\n    upperLimit: 100,\r\n    discont: 100\r\n  }),\r\n  new Ladder({\r\n    id: 2,\r\n    name: \"lodder2\",\r\n    lowerLimit: 100,\r\n    upperLimit: 150,\r\n    discont: 80\r\n  }),\r\n  new Ladder({\r\n    id: 3,\r\n    name: \"lodder3\",\r\n    lowerLimit: 150,\r\n    upperLimit: \"*\",\r\n    discont: 50\r\n  })\r\n];\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport Ladder, { defaultLadders } from \"./ladder\";\r\nimport ILadder from \"./ladder.d\";\r\n@Component({})\r\nexport default class Subway extends Vue {\r\n  public refs!: { [x: string]: any };\r\n  // 每次花销\r\n  private moneySpentEachTime = 0;\r\n  // 次数\r\n  private totalFrequency = 0;\r\n  // 阶梯编辑模板\r\n  private editLadder: ILadder = {\r\n    upperLimit: 0,\r\n    lowerLimit: 0,\r\n    discont: 0,\r\n    name: \"\",\r\n    id: 0\r\n  };\r\n  // 阶梯  阶梯1  0-100  阶梯次数  100-150 阶梯3  150-infinity\r\n  private ladders: Ladder[] = [];\r\n  // 结果\r\n  private resultMoney = 0;\r\n  // 处理计算\r\n  private handleCalc() {\r\n    if (!this.moneySpentEachTime || !this.totalFrequency) {\r\n      return;\r\n    }\r\n    const firstLadder = this.ladders[0];\r\n    const starDate = {\r\n      currentTotalMoney: firstLadder.lowerLimit, // 当前阶段前面所有money的汇总\r\n      currentTotalFrequency: 0 // 当前阶段前面所有次数的汇总\r\n    };\r\n    // use reduce\r\n    const { currentTotalMoney } = this.ladders.reduce(\r\n      (total: any, ladder) => {\r\n        const option = {\r\n          starMoney: total.currentTotalMoney,\r\n          starFrequency: total.currentTotalFrequency,\r\n          moneySpentEachTime: this.moneySpentEachTime,\r\n          totalFrequency: this.totalFrequency\r\n        };\r\n        return ladder.calc(option);\r\n      },\r\n      starDate\r\n    );\r\n    this.resultMoney = currentTotalMoney;\r\n  }\r\n  // add\r\n  private handleAddladder() {\r\n    let lowerLimit = Number(this.ladders[this.ladders.length - 1].upperLimit);\r\n    lowerLimit = isNaN(lowerLimit) ? 0 : lowerLimit;\r\n    this.ladders.push(\r\n      new Ladder({\r\n        ...this.editLadder,\r\n        lowerLimit,\r\n        upperLimit: \"*\",\r\n        id: this.ladders.length + 1,\r\n        name: `ladder${this.ladders.length + 1}`\r\n      })\r\n    );\r\n  }\r\n  // remove\r\n  private handleRemoveladder(index: number) {\r\n    this.ladders.splice(index, 1);\r\n  }\r\n  created() {\r\n    this.ladders = defaultLadders();\r\n    (window as any).sub = this;\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subway.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subway.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./subway.vue?vue&type=template&id=24b7193c&scoped=true&\"\nimport script from \"./subway.vue?vue&type=script&lang=ts&\"\nexport * from \"./subway.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./subway.vue?vue&type=style&index=0&id=24b7193c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24b7193c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCol,VContainer,VIcon,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}